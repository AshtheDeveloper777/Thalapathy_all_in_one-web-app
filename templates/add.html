{% extends 'base.html' %}

{% block title %}Add Movie{% endblock %}

{% block content %}
<div class="container add">
  <h1 class="heading">Add a Movie</h1>
  <p class="description">Enter a movie title to fetch details</p>

  <form method="POST" novalidate>
    {{ form.hidden_tag() }}

    <div class="mb-3">
      {{ form.title.label(class="form-label text-warning") }}
      {{ form.title(class="form-control") }}
      {% for error in form.title.errors %}
        <div class="text-danger">{{ error }}</div>
      {% endfor %}
    </div>

    <button type="submit" class="button">Submit</button>
  </form>
</div>

<script>
  document.querySelector("form").addEventListener("submit", function () {
    document.querySelector("button[type='submit']").disabled = true;
    document.body.insertAdjacentHTML("beforeend", "<p>Loading movie dataâ€¦</p>");
  });
</script>
{% endblock %}
